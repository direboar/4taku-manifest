apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- deployment-api.yaml
- deployment-batch.yaml

# namespace: 4taku-direboar

configMapGenerator:
- literals:
  - db-server-name=postgres-postgresql-hl.database-direboar
  - db-server-port=5432
  - db-name=4taku
  - db-user-name=4taku-user
  name: database-config
generatorOptions:
  disableNameSuffixHash: true

secretGenerator:
- literals:
  - db-password=4taku-pass
  name: database-secrets
images:
- name: minokuba/4taku-api
  newName: minokuba/4taku-api
  newTag: 6d8f6c9aa59f0b11b9ca52936ea3e2a9e6347892
- name: minokuba/4taku-batch
  newName: minokuba/4taku-batch
  newTag: 6d8f6c9aa59f0b11b9ca52936ea3e2a9e6347892
